<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexagon - Ultra Intense Reflex Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #fff;
            overflow: hidden;
            position: relative;
        }

        canvas {
            display: block;
            background: radial-gradient(circle, #001a2e, #000);
        }

        .ui {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }

        .score {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px #00ffff;
            color: #00ffff;
        }

        .speed {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 18px;
            color: #ff00ff;
            text-shadow: 0 0 10px #ff00ff;
        }

        .menu {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            pointer-events: all;
            background: rgba(0, 0, 0, 0.8);
            padding: 40px;
            border-radius: 10px;
            border: 2px solid #00ffff;
            box-shadow: 0 0 30px #00ffff;
        }

        .menu h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: #00ffff;
            text-shadow: 0 0 20px #00ffff;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { text-shadow: 0 0 20px #00ffff; }
            50% { text-shadow: 0 0 30px #00ffff, 0 0 40px #ff00ff; }
        }

        .menu button {
            background: linear-gradient(45deg, #ff00ff, #00ffff);
            border: none;
            color: #000;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .menu button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px #ff00ff;
        }

        .instructions {
            margin-top: 20px;
            font-size: 14px;
            color: #aaa;
            line-height: 1.6;
        }

        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            pointer-events: all;
            background: rgba(0, 0, 0, 0.9);
            padding: 40px;
            border-radius: 10px;
            border: 2px solid #ff0000;
            box-shadow: 0 0 30px #ff0000;
            display: none;
        }

        .game-over h2 {
            font-size: 36px;
            color: #ff0000;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #ff0000;
        }

        .bass-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0;
            background: radial-gradient(circle, rgba(255, 0, 255, 0.1), transparent);
            transition: opacity 0.1s;
        }

        .warning {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 0, 0.1);
            border: 1px solid #ffff00;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 12px;
            color: #ffff00;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .language-selector {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .lang-btn {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid #00ffff;
            color: #00ffff;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            pointer-events: all;
        }

        .lang-btn:hover, .lang-btn.active {
            background: rgba(0, 255, 255, 0.3);
            box-shadow: 0 0 10px #00ffff;
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button class="lang-btn active" onclick="switchLanguage('fr')" data-lang="fr">FR</button>
        <button class="lang-btn" onclick="switchLanguage('en')" data-lang="en">EN</button>
        <button class="lang-btn" onclick="switchLanguage('pt')" data-lang="pt">PT</button>
    </div>

    <canvas id="gameCanvas"></canvas>
    
    <div class="ui">
        <div class="score">Score: <span id="scoreValue">0</span></div>
        <div class="speed">Speed: <span id="speedValue">1.0</span>x</div>
        
        <div class="menu" id="menu">
            <h1 data-translate="game.title">HEXAGON</h1>
            <div class="instructions">
                <p data-translate="game.description">Un jeu de réflexes ultra intense avec des visuels 3D époustouflants</p>
                <br>
                <p data-translate="game.controls"><strong>Contrôles:</strong> A/D ou ←/→ pour tourner</p>
                <p data-translate="game.objective">Évitez les murs qui se rapprochent du centre !</p>
                <p data-translate="game.warning">⚠️ Plus vous survivez, plus c'est rapide !</p>
            </div>
            <button onclick="startGame()" data-translate="game.start">COMMENCER</button>
            <button onclick="toggleMusic()" data-translate="game.music">MUSIQUE: ON</button>
        </div>

        <div class="game-over" id="gameOver">
            <h2 data-translate="game.gameOver">GAME OVER</h2>
            <p data-translate="game.finalScore">Score Final: <span id="finalScore">0</span></p>
            <p data-translate="game.bestScore">Meilleur Score: <span id="bestScore">0</span></p>
            <button onclick="restartGame()" data-translate="game.restart">REJOUER</button>
            <button onclick="showMenu()" data-translate="game.menu">MENU</button>
        </div>

        <div class="warning" data-translate="game.epilepsy">
            ⚠️ Attention: Effets visuels intenses - Déconseillé aux personnes épileptiques
        </div>
    </div>

    <div class="bass-effect" id="bassEffect"></div>

    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script>
        // Translation system
        const translations = {
            fr: {
                'game.title': 'HEXAGON',
                'game.description': 'Un jeu de réflexes ultra intense avec des visuels 3D époustouflants',
                'game.controls': 'Contrôles: A/D ou ←/→ pour tourner',
                'game.objective': 'Évitez les murs qui se rapprochent du centre !',
                'game.warning': '⚠️ Plus vous survivez, plus c\'est rapide !',
                'game.start': 'COMMENCER',
                'game.music': 'MUSIQUE: ON',
                'game.gameOver': 'GAME OVER',
                'game.finalScore': 'Score Final: ',
                'game.bestScore': 'Meilleur Score: ',
                'game.restart': 'REJOUER',
                'game.menu': 'MENU',
                'game.epilepsy': '⚠️ Attention: Effets visuels intenses - Déconseillé aux personnes épileptiques'
            },
            en: {
                'game.title': 'HEXAGON',
                'game.description': 'An ultra-intense reflex game with stunning 3D visuals',
                'game.controls': 'Controls: A/D or ←/→ to rotate',
                'game.objective': 'Avoid the walls closing in on the center!',
                'game.warning': '⚠️ The longer you survive, the faster it gets!',
                'game.start': 'START',
                'game.music': 'MUSIC: ON',
                'game.gameOver': 'GAME OVER',
                'game.finalScore': 'Final Score: ',
                'game.bestScore': 'Best Score: ',
                'game.restart': 'PLAY AGAIN',
                'game.menu': 'MENU',
                'game.epilepsy': '⚠️ Warning: Intense visual effects - Not recommended for epileptic people'
            },
            pt: {
                'game.title': 'HEXÁGONO',
                'game.description': 'Um jogo de reflexos ultra intenso com visuais 3D impressionantes',
                'game.controls': 'Controles: A/D ou ←/→ para girar',
                'game.objective': 'Evite as paredes se aproximando do centro!',
                'game.warning': '⚠️ Quanto mais você sobrevive, mais rápido fica!',
                'game.start': 'COMEÇAR',
                'game.music': 'MÚSICA: LIGADA',
                'game.gameOver': 'GAME OVER',
                'game.finalScore': 'Pontuação Final: ',
                'game.bestScore': 'Melhor Pontuação: ',
                'game.restart': 'JOGAR NOVAMENTE',
                'game.menu': 'MENU',
                'game.epilepsy': '⚠️ Atenção: Efeitos visuais intensos - Não recomendado para epilépticos'
            }
        };

        let currentLanguage = 'fr';

        function switchLanguage(lang) {
            currentLanguage = lang;
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('active');
                }
            });
            updateTranslations();
        }

        function updateTranslations() {
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    if (key === 'game.finalScore' || key === 'game.bestScore') {
                        const scoreSpan = element.querySelector('span');
                        if (scoreSpan) {
                            element.innerHTML = translations[currentLanguage][key] + '<span id="' + scoreSpan.id + '">' + scoreSpan.textContent + '</span>';
                        }
                    } else {
                        element.textContent = translations[currentLanguage][key];
                    }
                }
            });
        }

        // Initialize translations
        updateTranslations();
    </script>
    
    <script src="hexagon-game.js"></script>
</body>
</html>
